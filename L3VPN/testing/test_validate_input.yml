# Validates all the inputs in the various vars files that everything is based on.
---
  - name: Create report directory
    local_action:
      module: file
      path: "{{ report_path }}"
      state: directory

  - name: Validate that all nodes are connected via fabric
    assert:
      that:
        - "{{ nodes|nodes_not_in_fabric(fabric_infrastructure, fabric_customer) }} is not empty"